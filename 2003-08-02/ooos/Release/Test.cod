; Listing generated by Microsoft (R) Optimizing Compiler Version 13.00.9466 

	TITLE	Test.cpp
	.386P
include listing.inc
if @Version gt 510
.model FLAT
else
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
_DATA	SEGMENT DWORD USE32 PUBLIC 'DATA'
_DATA	ENDS
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
_BSS	SEGMENT PARA USE32 PUBLIC 'BSS'
_BSS	ENDS
$$SYMBOLS	SEGMENT BYTE USE32 'DEBSYM'
$$SYMBOLS	ENDS
$$TYPES	SEGMENT BYTE USE32 'DEBTYP'
$$TYPES	ENDS
_TLS	SEGMENT DWORD USE32 PUBLIC 'TLS'
_TLS	ENDS
;	COMDAT ??_C@_0N@KONKHPBC@Invalid?5TSS?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_09HPIJIFCF@ECODE?5?$CFd?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0O@NAPKEEAF@CS?3EIP?5?$CFd?3?$CFd?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_09LKOKBINO@FLAGS?5?$CFd?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BG@COPIHALL@Current?5task?5Seg?3?5?$CFd?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0P@KNMBDACL@Register?5Dump?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CK@PEINGJCK@EAX?3?5?$CFd?5?5?5?5EBX?3?5?$CFd?5?5?5?5ECX?3?5?$CFd?5?5?5@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0CK@HNOEPFBO@EDI?3?5?$CFd?5?5?5?5ESI?3?5?$CFd?5?5?5?5EBP?3?5?$CFd?5?5?5@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BA@LHEKDIIJ@GlobalTSS?5Dump?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0N@EPGDEDFI@?$CFd?5?$CFd?5?$CFd?5?$CFd?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BK@DEBEJCDJ@General?5Protection?5Fault?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0L@BECKEBJP@?$CFd?3?5?$CFd?5?$CFd?6?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_1EA@PCALOENF@?$AAD?$AAi?$AAs?$AAp?$AAl?$AAa?$AAy?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAs?$AAe?$AAd?$AA?6@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_1CE@LAAGDDIB@?$AAC?$AAa?$AAb?$AAo?$AAo?$AAs?$AAe?$AA?5?$AAv?$AA0?$AA?4?$AA0?$AA?4?$AA0?$AA?4?$AA1?$AA?6?$AA?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_1FC@OADJIDMP@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAu?$AAp?$AA?5?$AAI?$AAD?$AAT?$AA?5?$AA?$CI?$AAE?$AAx?$AAc?$AAe@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_1M@GFEGCGOG@?$AAD?$AAo?$AAn?$AAe?$AA?6?$AA?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_1FA@KFBANILN@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AA?5?$AAT?$AAS?$AAS?$AA?5@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_1FC@HJFAKFNI@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAu?$AAp?$AA?5?$AAI?$AAD?$AAT?$AA?5?$AA?$CI?$AAI?$AAn?$AAt?$AAe@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_1EC@KNNFMMNH@?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAP?$AAI?$AAC?$AA?8?$AAs?$AA?5?$AAa?$AAn?$AAd?$AA?5?$AAi?$AAn?$AAt@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_1DC@DEPIFANH@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_1DC@DOGCHMEA@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAd?$AAl?$AAe?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_1DC@HHBJAEIG@?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AA?5?$AAT?$AAe?$AAr?$AAm?$AAi?$AAn?$AAa@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_0BL@NFNAADMG@That?5is?5bad?0?5System?5Halted?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_01CPLAODJH@S?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_13HOIJIPNN@?$AA?5?$AA?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_13LBAGMAIH@?$AA?6?$AA?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
;	COMDAT ??_C@_1CE@PFBKFDOA@?$AA?6?$AAT?$AAh?$AAa?$AAt?$AAs?$AA?5?$AAa?$AAl?$AAl?$AA?5?$AAF?$AAo?$AAl?$AAk?$AAs?$AA?6?$AA?$AA@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
text$yc	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yc	ENDS
CRT$XCA	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCA	ENDS
CRT$XCU	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCU	ENDS
CRT$XCL	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCL	ENDS
CRT$XCC	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCC	ENDS
CRT$XCZ	SEGMENT DWORD USE32 PUBLIC 'DATA'
CRT$XCZ	ENDS
;	COMDAT ??0ProcessNode@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??0ProcessQueue@@QAE@XZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Exception10_CPP@@YAXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Exception13_CPP@@YAXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT _$E1
text$yc	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yc	ENDS
;	COMDAT _$E3
text$yc	SEGMENT PARA USE32 PUBLIC 'CODE'
text$yc	ENDS
;	COMDAT ?KernelEntry@@YAXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ?Snake@@YAXXZ
_TEXT	SEGMENT PARA USE32 PUBLIC 'CODE'
_TEXT	ENDS
;	COMDAT ??_7Shell@@6B@
CONST	SEGMENT DWORD USE32 PUBLIC 'CONST'
CONST	ENDS
FLAT	GROUP _DATA, CONST, _BSS
	ASSUME	CS: FLAT, DS: FLAT, SS: FLAT
endif

INCLUDELIB LIBC
INCLUDELIB OLDNAMES

PUBLIC	?DispatchTSS@@3UTSS@@A				; DispatchTSS
PUBLIC	?DumpSpace@@3URegDump@@A			; DumpSpace
PUBLIC	?pDump@@3PAXA					; pDump
PUBLIC	?GlobalTSS@@3UTSS@@A				; GlobalTSS
PUBLIC	?DispatchStack@@3PAEA				; DispatchStack
_BSS	SEGMENT
?DispatchTSS@@3UTSS@@A DB 068H DUP (?)			; DispatchTSS
?DumpSpace@@3URegDump@@A DB 030H DUP (?)		; DumpSpace
?GlobalTSS@@3UTSS@@A DB 068H DUP (?)			; GlobalTSS
?DispatchStack@@3PAEA DB 0400H DUP (?)			; DispatchStack
_BSS	ENDS
_DATA	SEGMENT
?pDump@@3PAXA DD FLAT:?DumpSpace@@3URegDump@@A		; pDump
_DATA	ENDS
PUBLIC	??0ProcessNode@@QAE@XZ				; ProcessNode::ProcessNode
; Function compile flags: /Ogty
; File d:\my documents\projects\ooos\current\ooos\process.h
;	COMDAT ??0ProcessNode@@QAE@XZ
_TEXT	SEGMENT
??0ProcessNode@@QAE@XZ PROC NEAR			; ProcessNode::ProcessNode, COMDAT
; _this$ = ecx

; 103  : 	ProcessNode() {Next = NULL;};

  00000	8b c1		 mov	 eax, ecx
  00002	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0
  00008	c3		 ret	 0
??0ProcessNode@@QAE@XZ ENDP				; ProcessNode::ProcessNode
_TEXT	ENDS
PUBLIC	??0ProcessQueue@@QAE@XZ				; ProcessQueue::ProcessQueue
; Function compile flags: /Ogty
;	COMDAT ??0ProcessQueue@@QAE@XZ
_TEXT	SEGMENT
??0ProcessQueue@@QAE@XZ PROC NEAR			; ProcessQueue::ProcessQueue, COMDAT
; _this$ = ecx

; 112  : 	ProcessQueue() : Head() {};

  00000	8b c1		 mov	 eax, ecx
  00002	c7 00 00 00 00
	00		 mov	 DWORD PTR [eax], 0
  00008	c3		 ret	 0
??0ProcessQueue@@QAE@XZ ENDP				; ProcessQueue::ProcessQueue
_TEXT	ENDS
PUBLIC	?Exception10_CPP@@YAXXZ				; Exception10_CPP
PUBLIC	??_C@_0N@KONKHPBC@Invalid?5TSS?6?$AA@		; `string'
PUBLIC	??_C@_09HPIJIFCF@ECODE?5?$CFd?6?$AA@		; `string'
PUBLIC	??_C@_0O@NAPKEEAF@CS?3EIP?5?$CFd?3?$CFd?6?$AA@	; `string'
PUBLIC	??_C@_09LKOKBINO@FLAGS?5?$CFd?6?$AA@		; `string'
PUBLIC	??_C@_0BG@COPIHALL@Current?5task?5Seg?3?5?$CFd?6?$AA@ ; `string'
PUBLIC	??_C@_0P@KNMBDACL@Register?5Dump?6?$AA@		; `string'
PUBLIC	??_C@_0CK@PEINGJCK@EAX?3?5?$CFd?5?5?5?5EBX?3?5?$CFd?5?5?5?5ECX?3?5?$CFd?5?5?5@ ; `string'
PUBLIC	??_C@_0CK@HNOEPFBO@EDI?3?5?$CFd?5?5?5?5ESI?3?5?$CFd?5?5?5?5EBP?3?5?$CFd?5?5?5@ ; `string'
PUBLIC	??_C@_0BA@LHEKDIIJ@GlobalTSS?5Dump?6?$AA@	; `string'
PUBLIC	??_C@_0N@EPGDEDFI@?$CFd?5?$CFd?5?$CFd?5?$CFd?6?$AA@ ; `string'
EXTRN	?printf@@YAXPBDZZ:NEAR				; printf
EXTRN	?SetColour@VideoDriver@@QAEXE@Z:NEAR		; VideoDriver::SetColour
EXTRN	?pDisp@@3PAVVideoDriver@@A:DWORD		; pDisp
;	COMDAT ??_C@_0N@KONKHPBC@Invalid?5TSS?6?$AA@
; File d:\my documents\projects\ooos\current\ooos\test.cpp
CONST	SEGMENT
??_C@_0N@KONKHPBC@Invalid?5TSS?6?$AA@ DB 'Invalid TSS', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_09HPIJIFCF@ECODE?5?$CFd?6?$AA@
CONST	SEGMENT
??_C@_09HPIJIFCF@ECODE?5?$CFd?6?$AA@ DB 'ECODE %d', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0O@NAPKEEAF@CS?3EIP?5?$CFd?3?$CFd?6?$AA@
CONST	SEGMENT
??_C@_0O@NAPKEEAF@CS?3EIP?5?$CFd?3?$CFd?6?$AA@ DB 'CS:EIP %d:%d', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_09LKOKBINO@FLAGS?5?$CFd?6?$AA@
CONST	SEGMENT
??_C@_09LKOKBINO@FLAGS?5?$CFd?6?$AA@ DB 'FLAGS %d', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@COPIHALL@Current?5task?5Seg?3?5?$CFd?6?$AA@
CONST	SEGMENT
??_C@_0BG@COPIHALL@Current?5task?5Seg?3?5?$CFd?6?$AA@ DB 'Current task Se'
	DB	'g: %d', 0aH, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@KNMBDACL@Register?5Dump?6?$AA@
CONST	SEGMENT
??_C@_0P@KNMBDACL@Register?5Dump?6?$AA@ DB 'Register Dump', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@PEINGJCK@EAX?3?5?$CFd?5?5?5?5EBX?3?5?$CFd?5?5?5?5ECX?3?5?$CFd?5?5?5@
CONST	SEGMENT
??_C@_0CK@PEINGJCK@EAX?3?5?$CFd?5?5?5?5EBX?3?5?$CFd?5?5?5?5ECX?3?5?$CFd?5?5?5@ DB 'E'
	DB	'AX: %d    EBX: %d    ECX: %d    EDX: %d', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CK@HNOEPFBO@EDI?3?5?$CFd?5?5?5?5ESI?3?5?$CFd?5?5?5?5EBP?3?5?$CFd?5?5?5@
CONST	SEGMENT
??_C@_0CK@HNOEPFBO@EDI?3?5?$CFd?5?5?5?5ESI?3?5?$CFd?5?5?5?5EBP?3?5?$CFd?5?5?5@ DB 'E'
	DB	'DI: %d    ESI: %d    EBP: %d    ESP: %d', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BA@LHEKDIIJ@GlobalTSS?5Dump?6?$AA@
CONST	SEGMENT
??_C@_0BA@LHEKDIIJ@GlobalTSS?5Dump?6?$AA@ DB 'GlobalTSS Dump', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0N@EPGDEDFI@?$CFd?5?$CFd?5?$CFd?5?$CFd?6?$AA@
CONST	SEGMENT
??_C@_0N@EPGDEDFI@?$CFd?5?$CFd?5?$CFd?5?$CFd?6?$AA@ DB '%d %d %d %d', 0aH
	DB	00H						; `string'
; Function compile flags: /Ogty
CONST	ENDS
;	COMDAT ?Exception10_CPP@@YAXXZ
_TEXT	SEGMENT
_Temp$ = -4
?Exception10_CPP@@YAXXZ PROC NEAR			; Exception10_CPP, COMDAT

; 57   : {

  00000	51		 push	 ecx

; 58   : //	DWORD Temp;
; 59   : 	//pDisp->ClearScreen();
; 60   : 	pDisp->SetColour(14);

  00001	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pDisp@@3PAVVideoDriver@@A ; pDisp
  00007	56		 push	 esi
  00008	6a 0e		 push	 14			; 0000000eH
  0000a	e8 00 00 00 00	 call	 ?SetColour@VideoDriver@@QAEXE@Z ; VideoDriver::SetColour

; 61   : 	printf("Invalid TSS\n");

  0000f	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0N@KONKHPBC@Invalid?5TSS?6?$AA@
  00014	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 62   : 	printf("ECODE %d\n", DumpSpace.ECODE);

  00019	a1 20 00 00 00	 mov	 eax, DWORD PTR ?DumpSpace@@3URegDump@@A+32
  0001e	50		 push	 eax
  0001f	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_09HPIJIFCF@ECODE?5?$CFd?6?$AA@
  00024	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 63   : 	printf("CS:EIP %d:%d\n", DumpSpace.CS, DumpSpace.EIP);

  00029	8b 0d 24 00 00
	00		 mov	 ecx, DWORD PTR ?DumpSpace@@3URegDump@@A+36
  0002f	8b 15 28 00 00
	00		 mov	 edx, DWORD PTR ?DumpSpace@@3URegDump@@A+40
  00035	51		 push	 ecx
  00036	52		 push	 edx
  00037	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0O@NAPKEEAF@CS?3EIP?5?$CFd?3?$CFd?6?$AA@
  0003c	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 64   : 	printf("FLAGS %d\n", DumpSpace.EFLAGS);

  00041	a1 2c 00 00 00	 mov	 eax, DWORD PTR ?DumpSpace@@3URegDump@@A+44
  00046	50		 push	 eax
  00047	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_09LKOKBINO@FLAGS?5?$CFd?6?$AA@
  0004c	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf
  00051	83 c4 20	 add	 esp, 32			; 00000020H

; 65   : 
; 66   : 	DWORD Temp;
; 67   : 	__asm STR Temp;

  00054	0f 00 4c 24 04	 str	 WORD PTR _Temp$[esp+8]

; 68   : 	printf("Current task Seg: %d\n", Temp);

  00059	8b 4c 24 04	 mov	 ecx, DWORD PTR _Temp$[esp+8]
  0005d	51		 push	 ecx
  0005e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BG@COPIHALL@Current?5task?5Seg?3?5?$CFd?6?$AA@
  00063	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 69   : 
; 70   : 
; 71   : 	printf("Register Dump\n");

  00068	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0P@KNMBDACL@Register?5Dump?6?$AA@
  0006d	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 72   : 	printf("EAX: %d    EBX: %d    ECX: %d    EDX: %d\n", DumpSpace.EAX, DumpSpace.EBX, DumpSpace.ECX, DumpSpace.EDX);

  00072	8b 15 0c 00 00
	00		 mov	 edx, DWORD PTR ?DumpSpace@@3URegDump@@A+12
  00078	a1 08 00 00 00	 mov	 eax, DWORD PTR ?DumpSpace@@3URegDump@@A+8
  0007d	8b 0d 04 00 00
	00		 mov	 ecx, DWORD PTR ?DumpSpace@@3URegDump@@A+4
  00083	52		 push	 edx
  00084	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?DumpSpace@@3URegDump@@A
  0008a	50		 push	 eax
  0008b	51		 push	 ecx
  0008c	52		 push	 edx
  0008d	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CK@PEINGJCK@EAX?3?5?$CFd?5?5?5?5EBX?3?5?$CFd?5?5?5?5ECX?3?5?$CFd?5?5?5@
  00092	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 73   : 	printf("EDI: %d    ESI: %d    EBP: %d    ESP: %d\n", DumpSpace.EDI, DumpSpace.ESI, DumpSpace.EBP, DumpSpace.ESP);

  00097	a1 1c 00 00 00	 mov	 eax, DWORD PTR ?DumpSpace@@3URegDump@@A+28
  0009c	8b 0d 18 00 00
	00		 mov	 ecx, DWORD PTR ?DumpSpace@@3URegDump@@A+24
  000a2	8b 15 14 00 00
	00		 mov	 edx, DWORD PTR ?DumpSpace@@3URegDump@@A+20
  000a8	50		 push	 eax
  000a9	a1 10 00 00 00	 mov	 eax, DWORD PTR ?DumpSpace@@3URegDump@@A+16
  000ae	51		 push	 ecx
  000af	52		 push	 edx
  000b0	50		 push	 eax
  000b1	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CK@HNOEPFBO@EDI?3?5?$CFd?5?5?5?5ESI?3?5?$CFd?5?5?5?5EBP?3?5?$CFd?5?5?5@
  000b6	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 74   : 
; 75   : 	/*for (int i = 0;i<6;++i)
; 76   : 	{
; 77   : 		printf("%d: %d %d\n", i, GDTAddress[i*2], GDTAddress[i*2+1]);
; 78   : 	}
; 79   : 
; 80   : 	for (int i = 0;i<3;++i)
; 81   : 	{
; 82   : 		printf("%d: %d %d\n", i, IDTAddress[i*2], IDTAddress[i*2+1]);
; 83   : 	}
; 84   : 
; 85   : 	for (int i = 32;i<34;++i)
; 86   : 	{
; 87   : 		printf("%d: %d %d\n", i, IDTAddress[i*2], IDTAddress[i*2+1]);
; 88   : 	}*/
; 89   : 
; 90   : 	printf("GlobalTSS Dump\n");

  000bb	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BA@LHEKDIIJ@GlobalTSS?5Dump?6?$AA@
  000c0	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf
  000c5	83 c4 38	 add	 esp, 56			; 00000038H
  000c8	be 5c 00 00 00	 mov	 esi, OFFSET FLAT:?GlobalTSS@@3UTSS@@A+92

; 101  : 
; 102  : 
; 103  : }

  000cd	8d 49 00	 npad	 3

; 74   : 
; 75   : 	/*for (int i = 0;i<6;++i)
; 76   : 	{
; 77   : 		printf("%d: %d %d\n", i, GDTAddress[i*2], GDTAddress[i*2+1]);
; 78   : 	}
; 79   : 
; 80   : 	for (int i = 0;i<3;++i)
; 81   : 	{
; 82   : 		printf("%d: %d %d\n", i, IDTAddress[i*2], IDTAddress[i*2+1]);
; 83   : 	}
; 84   : 
; 85   : 	for (int i = 32;i<34;++i)
; 86   : 	{
; 87   : 		printf("%d: %d %d\n", i, IDTAddress[i*2], IDTAddress[i*2+1]);
; 88   : 	}*/
; 89   : 
; 90   : 	printf("GlobalTSS Dump\n");

$L686:

; 91   : 	for (DWORD * i = reinterpret_cast<DWORD *> (&GlobalTSS) + (100/4); i>=reinterpret_cast<DWORD *> (&GlobalTSS); i-=4)
; 92   : 	{
; 93   : 		printf("%d %d %d %d\n", *i, *(i-1), *(i-2), *(i-3));

  000d0	8b 4e fc	 mov	 ecx, DWORD PTR [esi-4]
  000d3	8b 16		 mov	 edx, DWORD PTR [esi]
  000d5	8b 46 04	 mov	 eax, DWORD PTR [esi+4]
  000d8	51		 push	 ecx
  000d9	8b 4e 08	 mov	 ecx, DWORD PTR [esi+8]
  000dc	52		 push	 edx
  000dd	50		 push	 eax
  000de	51		 push	 ecx
  000df	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0N@EPGDEDFI@?$CFd?5?$CFd?5?$CFd?5?$CFd?6?$AA@
  000e4	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf
  000e9	83 ee 10	 sub	 esi, 16			; 00000010H
  000ec	8d 56 08	 lea	 edx, DWORD PTR [esi+8]
  000ef	83 c4 14	 add	 esp, 20			; 00000014H
  000f2	81 fa 00 00 00
	00		 cmp	 edx, OFFSET FLAT:?GlobalTSS@@3UTSS@@A ; GlobalTSS
  000f8	73 d6		 jae	 SHORT $L686

; 101  : 
; 102  : 
; 103  : }

  000fa	8d 9b 00 00 00
	00		 npad	 6
$L691:

; 94   : 	}
; 95   : 	//printf("EAX: %d    EBX: %d    ECX: %d    EDX: %d\n", GlobalTSS.EAX, GlobalTSS.EBX, GlobalTSS.ECX, GlobalTSS.EDX);
; 96   : 	//printf("EDI: %d    ESI: %d    EBP: %d    ESP: %d\n", GlobalTSS.EDI, GlobalTSS.ESI, GlobalTSS.EBP, GlobalTSS.ESP);
; 97   : 	//printf("CS: %d     SS: %d     DS: %d     ES: %d\n", GlobalTSS.EDI, GlobalTSS.ESI, GlobalTSS.EBP, GlobalTSS.ESP);
; 98   : 
; 99   : 
; 100  : 	while(1);

  00100	eb fe		 jmp	 SHORT $L691
?Exception10_CPP@@YAXXZ ENDP				; Exception10_CPP
_TEXT	ENDS
PUBLIC	?Exception13_CPP@@YAXXZ				; Exception13_CPP
PUBLIC	??_C@_0BK@DEBEJCDJ@General?5Protection?5Fault?6?$AA@ ; `string'
PUBLIC	??_C@_0L@BECKEBJP@?$CFd?3?5?$CFd?5?$CFd?6?$AA@	; `string'
EXTRN	?GDTAddress@@3PAKA:DWORD			; GDTAddress
;	COMDAT ??_C@_0BK@DEBEJCDJ@General?5Protection?5Fault?6?$AA@
CONST	SEGMENT
??_C@_0BK@DEBEJCDJ@General?5Protection?5Fault?6?$AA@ DB 'General Protecti'
	DB	'on Fault', 0aH, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0L@BECKEBJP@?$CFd?3?5?$CFd?5?$CFd?6?$AA@
CONST	SEGMENT
??_C@_0L@BECKEBJP@?$CFd?3?5?$CFd?5?$CFd?6?$AA@ DB '%d: %d %d', 0aH, 00H ; `string'
; Function compile flags: /Ogty
CONST	ENDS
;	COMDAT ?Exception13_CPP@@YAXXZ
_TEXT	SEGMENT
?Exception13_CPP@@YAXXZ PROC NEAR			; Exception13_CPP, COMDAT

; 107  : //	DWORD Temp;
; 108  : 	//pDisp->ClearScreen();
; 109  : 	pDisp->SetColour(14);

  00000	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?pDisp@@3PAVVideoDriver@@A ; pDisp
  00006	56		 push	 esi
  00007	6a 0e		 push	 14			; 0000000eH
  00009	e8 00 00 00 00	 call	 ?SetColour@VideoDriver@@QAEXE@Z ; VideoDriver::SetColour

; 110  : 	printf("General Protection Fault\n");

  0000e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BK@DEBEJCDJ@General?5Protection?5Fault?6?$AA@
  00013	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 111  : 	printf("ECODE %d\n", DumpSpace.ECODE);

  00018	a1 20 00 00 00	 mov	 eax, DWORD PTR ?DumpSpace@@3URegDump@@A+32
  0001d	50		 push	 eax
  0001e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_09HPIJIFCF@ECODE?5?$CFd?6?$AA@
  00023	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 112  : 	printf("CS:EIP %d:%d\n", DumpSpace.CS, DumpSpace.EIP);

  00028	8b 0d 24 00 00
	00		 mov	 ecx, DWORD PTR ?DumpSpace@@3URegDump@@A+36
  0002e	8b 15 28 00 00
	00		 mov	 edx, DWORD PTR ?DumpSpace@@3URegDump@@A+40
  00034	51		 push	 ecx
  00035	52		 push	 edx
  00036	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0O@NAPKEEAF@CS?3EIP?5?$CFd?3?$CFd?6?$AA@
  0003b	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 113  : 	printf("FLAGS %d\n", DumpSpace.EFLAGS);

  00040	a1 2c 00 00 00	 mov	 eax, DWORD PTR ?DumpSpace@@3URegDump@@A+44
  00045	50		 push	 eax
  00046	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_09LKOKBINO@FLAGS?5?$CFd?6?$AA@
  0004b	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 114  : 
; 115  : 	printf("Register Dump\n");

  00050	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0P@KNMBDACL@Register?5Dump?6?$AA@
  00055	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 116  : 	printf("EAX: %d    EBX: %d    ECX: %d    EDX: %d\n", DumpSpace.EAX, DumpSpace.EBX, DumpSpace.ECX, DumpSpace.EDX);

  0005a	8b 0d 0c 00 00
	00		 mov	 ecx, DWORD PTR ?DumpSpace@@3URegDump@@A+12
  00060	8b 15 08 00 00
	00		 mov	 edx, DWORD PTR ?DumpSpace@@3URegDump@@A+8
  00066	a1 04 00 00 00	 mov	 eax, DWORD PTR ?DumpSpace@@3URegDump@@A+4
  0006b	51		 push	 ecx
  0006c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?DumpSpace@@3URegDump@@A
  00072	52		 push	 edx
  00073	50		 push	 eax
  00074	51		 push	 ecx
  00075	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CK@PEINGJCK@EAX?3?5?$CFd?5?5?5?5EBX?3?5?$CFd?5?5?5?5ECX?3?5?$CFd?5?5?5@
  0007a	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf

; 117  : 	printf("EDI: %d    ESI: %d    EBP: %d    ESP: %d\n", DumpSpace.EDI, DumpSpace.ESI, DumpSpace.EBP, DumpSpace.ESP);

  0007f	8b 15 1c 00 00
	00		 mov	 edx, DWORD PTR ?DumpSpace@@3URegDump@@A+28
  00085	a1 18 00 00 00	 mov	 eax, DWORD PTR ?DumpSpace@@3URegDump@@A+24
  0008a	8b 0d 14 00 00
	00		 mov	 ecx, DWORD PTR ?DumpSpace@@3URegDump@@A+20
  00090	52		 push	 edx
  00091	8b 15 10 00 00
	00		 mov	 edx, DWORD PTR ?DumpSpace@@3URegDump@@A+16
  00097	50		 push	 eax
  00098	51		 push	 ecx
  00099	52		 push	 edx
  0009a	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0CK@HNOEPFBO@EDI?3?5?$CFd?5?5?5?5ESI?3?5?$CFd?5?5?5?5EBP?3?5?$CFd?5?5?5@
  0009f	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf
  000a4	83 c4 4c	 add	 esp, 76			; 0000004cH

; 118  : 
; 119  : 	for (int i = 0;i<4;++i)

  000a7	33 f6		 xor	 esi, esi

; 131  : 
; 132  : 
; 133  : }

  000a9	8d a4 24 00 00
	00 00		 npad	 7

; 118  : 
; 119  : 	for (int i = 0;i<4;++i)

$L697:
  000b0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?GDTAddress@@3PAKA ; GDTAddress

; 120  : 	{
; 121  : 		printf("%d: %d %d\n", i, GDTAddress[i*2], GDTAddress[i*2+1]);

  000b5	8b 4c f0 04	 mov	 ecx, DWORD PTR [eax+esi*8+4]
  000b9	8b 14 f0	 mov	 edx, DWORD PTR [eax+esi*8]
  000bc	51		 push	 ecx
  000bd	52		 push	 edx
  000be	56		 push	 esi
  000bf	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0L@BECKEBJP@?$CFd?3?5?$CFd?5?$CFd?6?$AA@
  000c4	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf
  000c9	83 c4 10	 add	 esp, 16			; 00000010H
  000cc	46		 inc	 esi
  000cd	83 fe 04	 cmp	 esi, 4
  000d0	7c de		 jl	 SHORT $L697

; 122  : 	}
; 123  : 	printf("GlobalTSS Dump\n");

  000d2	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BA@LHEKDIIJ@GlobalTSS?5Dump?6?$AA@
  000d7	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf
  000dc	83 c4 04	 add	 esp, 4
  000df	be 5c 00 00 00	 mov	 esi, OFFSET FLAT:?GlobalTSS@@3UTSS@@A+92
$L704:

; 124  : 	for (DWORD * i = reinterpret_cast<DWORD *> (&GlobalTSS) + (100/4); i>=reinterpret_cast<DWORD *> (&GlobalTSS); i-=4)
; 125  : 	{
; 126  : 		printf("%d %d %d %d\n", *i, *(i-1), *(i-2), *(i-3));

  000e4	8b 46 fc	 mov	 eax, DWORD PTR [esi-4]
  000e7	8b 0e		 mov	 ecx, DWORD PTR [esi]
  000e9	8b 56 04	 mov	 edx, DWORD PTR [esi+4]
  000ec	50		 push	 eax
  000ed	8b 46 08	 mov	 eax, DWORD PTR [esi+8]
  000f0	51		 push	 ecx
  000f1	52		 push	 edx
  000f2	50		 push	 eax
  000f3	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0N@EPGDEDFI@?$CFd?5?$CFd?5?$CFd?5?$CFd?6?$AA@
  000f8	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf
  000fd	83 ee 10	 sub	 esi, 16			; 00000010H
  00100	8d 4e 08	 lea	 ecx, DWORD PTR [esi+8]
  00103	83 c4 14	 add	 esp, 20			; 00000014H
  00106	81 f9 00 00 00
	00		 cmp	 ecx, OFFSET FLAT:?GlobalTSS@@3UTSS@@A ; GlobalTSS
  0010c	73 d6		 jae	 SHORT $L704

; 131  : 
; 132  : 
; 133  : }

  0010e	8b ff		 npad	 2
$L708:

; 127  : 	}
; 128  : 
; 129  : 
; 130  : 	while(1);

  00110	eb fe		 jmp	 SHORT $L708
?Exception13_CPP@@YAXXZ ENDP				; Exception13_CPP
_TEXT	ENDS
PUBLIC	?KernelEntry@@YAXXZ				; KernelEntry
PUBLIC	??_C@_1EA@PCALOENF@?$AAD?$AAi?$AAs?$AAp?$AAl?$AAa?$AAy?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAs?$AAe?$AAd?$AA?6@ ; `string'
PUBLIC	??_C@_1CE@LAAGDDIB@?$AAC?$AAa?$AAb?$AAo?$AAo?$AAs?$AAe?$AA?5?$AAv?$AA0?$AA?4?$AA0?$AA?4?$AA0?$AA?4?$AA1?$AA?6?$AA?$AA@ ; `string'
PUBLIC	??_C@_1FC@OADJIDMP@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAu?$AAp?$AA?5?$AAI?$AAD?$AAT?$AA?5?$AA?$CI?$AAE?$AAx?$AAc?$AAe@ ; `string'
PUBLIC	??_C@_1M@GFEGCGOG@?$AAD?$AAo?$AAn?$AAe?$AA?6?$AA?$AA@ ; `string'
PUBLIC	??_C@_1FA@KFBANILN@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AA?5?$AAT?$AAS?$AAS?$AA?5@ ; `string'
PUBLIC	??_C@_1FC@HJFAKFNI@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAu?$AAp?$AA?5?$AAI?$AAD?$AAT?$AA?5?$AA?$CI?$AAI?$AAn?$AAt?$AAe@ ; `string'
PUBLIC	??_C@_1EC@KNNFMMNH@?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAP?$AAI?$AAC?$AA?8?$AAs?$AA?5?$AAa?$AAn?$AAd?$AA?5?$AAi?$AAn?$AAt@ ; `string'
PUBLIC	??_C@_1DC@DEPIFANH@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs@ ; `string'
PUBLIC	??_C@_1DC@DOGCHMEA@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAd?$AAl?$AAe?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs@ ; `string'
PUBLIC	??_C@_1DC@HHBJAEIG@?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AA?5?$AAT?$AAe?$AAr?$AAm?$AAi?$AAn?$AAa@ ; `string'
PUBLIC	??_C@_0BL@NFNAADMG@That?5is?5bad?0?5System?5Halted?$AA@ ; `string'
EXTRN	??0VideoDriver@@QAE@XZ:NEAR			; VideoDriver::VideoDriver
EXTRN	?WriteString@VideoDriver@@QAEXPA_W@Z:NEAR	; VideoDriver::WriteString
EXTRN	?ClearScreen@VideoDriver@@QAEXXZ:NEAR		; VideoDriver::ClearScreen
EXTRN	?RawISR@KeyboardDriver@@SAXXZ:NEAR		; KeyboardDriver::RawISR
EXTRN	?RawISR@TimerDriver@@SAXXZ:NEAR			; TimerDriver::RawISR
EXTRN	?RemoveStart@ProcessQueue@@QAEPAVProcess@@XZ:NEAR ; ProcessQueue::RemoveStart
EXTRN	?CreateProcess@@YAHPAVProcess@@@Z:NEAR		; CreateProcess
EXTRN	??0Init@@QAE@PAX0@Z:NEAR			; Init::Init
EXTRN	??0Idle@@QAE@PAX0@Z:NEAR			; Idle::Idle
EXTRN	?CurrentProcess@@3PAVProcess@@A:DWORD		; CurrentProcess
EXTRN	?ActiveProcesses@@3PAVProcessQueue@@A:DWORD	; ActiveProcesses
EXTRN	?ReadyProcesses@@3PAVProcessQueue@@A:DWORD	; ReadyProcesses
EXTRN	?IDTAddress@@3PAKA:DWORD			; IDTAddress
EXTRN	??0Kernel@@QAE@PAX0@Z:NEAR			; Kernel::Kernel
EXTRN	?Exception0@@YAXXZ:NEAR				; Exception0
EXTRN	?Exception1@@YAXXZ:NEAR				; Exception1
EXTRN	?Exception2@@YAXXZ:NEAR				; Exception2
EXTRN	?Exception3@@YAXXZ:NEAR				; Exception3
EXTRN	?Exception4@@YAXXZ:NEAR				; Exception4
EXTRN	?Exception5@@YAXXZ:NEAR				; Exception5
EXTRN	?Exception6@@YAXXZ:NEAR				; Exception6
EXTRN	?Exception7@@YAXXZ:NEAR				; Exception7
EXTRN	?Exception8@@YAXXZ:NEAR				; Exception8
EXTRN	?Exception9@@YAXXZ:NEAR				; Exception9
EXTRN	?Exception10@@YAXXZ:NEAR			; Exception10
EXTRN	?Exception11@@YAXXZ:NEAR			; Exception11
EXTRN	?Exception12@@YAXXZ:NEAR			; Exception12
EXTRN	?Exception13@@YAXXZ:NEAR			; Exception13
EXTRN	?Exception14@@YAXXZ:NEAR			; Exception14
;	COMDAT ??_C@_1EA@PCALOENF@?$AAD?$AAi?$AAs?$AAp?$AAl?$AAa?$AAy?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAs?$AAe?$AAd?$AA?6@
CONST	SEGMENT
??_C@_1EA@PCALOENF@?$AAD?$AAi?$AAs?$AAp?$AAl?$AAa?$AAy?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAs?$AAe?$AAd?$AA?6@ DB 'D'
	DB	00H, 'i', 00H, 's', 00H, 'p', 00H, 'l', 00H, 'a', 00H, 'y', 00H
	DB	' ', 00H, 'I', 00H, 'n', 00H, 'i', 00H, 't', 00H, 'i', 00H, 'a'
	DB	00H, 'l', 00H, 'i', 00H, 's', 00H, 'e', 00H, 'd', 00H, 0aH, 00H
	DB	'W', 00H, 'e', 00H, 'l', 00H, 'c', 00H, 'o', 00H, 'm', 00H, 'e'
	DB	00H, ' ', 00H, 't', 00H, 'o', 00H, ' ', 00H, 00H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_1CE@LAAGDDIB@?$AAC?$AAa?$AAb?$AAo?$AAo?$AAs?$AAe?$AA?5?$AAv?$AA0?$AA?4?$AA0?$AA?4?$AA0?$AA?4?$AA1?$AA?6?$AA?$AA@
CONST	SEGMENT
??_C@_1CE@LAAGDDIB@?$AAC?$AAa?$AAb?$AAo?$AAo?$AAs?$AAe?$AA?5?$AAv?$AA0?$AA?4?$AA0?$AA?4?$AA0?$AA?4?$AA1?$AA?6?$AA?$AA@ DB 'C'
	DB	00H, 'a', 00H, 'b', 00H, 'o', 00H, 'o', 00H, 's', 00H, 'e', 00H
	DB	' ', 00H, 'v', 00H, '0', 00H, '.', 00H, '0', 00H, '.', 00H, '0'
	DB	00H, '.', 00H, '1', 00H, 0aH, 00H, 00H, 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_1FC@OADJIDMP@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAu?$AAp?$AA?5?$AAI?$AAD?$AAT?$AA?5?$AA?$CI?$AAE?$AAx?$AAc?$AAe@
CONST	SEGMENT
??_C@_1FC@OADJIDMP@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAu?$AAp?$AA?5?$AAI?$AAD?$AAT?$AA?5?$AA?$CI?$AAE?$AAx?$AAc?$AAe@ DB 'S'
	DB	00H, 'e', 00H, 't', 00H, 't', 00H, 'i', 00H, 'n', 00H, 'g', 00H
	DB	' ', 00H, 'u', 00H, 'p', 00H, ' ', 00H, 'I', 00H, 'D', 00H, 'T'
	DB	00H, ' ', 00H, '(', 00H, 'E', 00H, 'x', 00H, 'c', 00H, 'e', 00H
	DB	'p', 00H, 't', 00H, 'i', 00H, 'o', 00H, 'n', 00H, ' ', 00H, 'H'
	DB	00H, 'a', 00H, 'n', 00H, 'd', 00H, 'l', 00H, 'e', 00H, 'r', 00H
	DB	's', 00H, ')', 00H, ' ', 00H, '.', 00H, '.', 00H, '.', 00H, ' '
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_1M@GFEGCGOG@?$AAD?$AAo?$AAn?$AAe?$AA?6?$AA?$AA@
CONST	SEGMENT
??_C@_1M@GFEGCGOG@?$AAD?$AAo?$AAn?$AAe?$AA?6?$AA?$AA@ DB 'D', 00H, 'o', 00H
	DB	'n', 00H, 'e', 00H, 0aH, 00H, 00H, 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_1FA@KFBANILN@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AA?5?$AAT?$AAS?$AAS?$AA?5@
CONST	SEGMENT
??_C@_1FA@KFBANILN@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AA?5?$AAT?$AAS?$AAS?$AA?5@ DB 'S'
	DB	00H, 'e', 00H, 't', 00H, 't', 00H, 'i', 00H, 'n', 00H, 'g', 00H
	DB	' ', 00H, 'I', 00H, 'n', 00H, 'i', 00H, 't', 00H, 'i', 00H, 'a'
	DB	00H, 'l', 00H, ' ', 00H, 'T', 00H, 'S', 00H, 'S', 00H, ' ', 00H
	DB	'&', 00H, ' ', 00H, 'D', 00H, 'i', 00H, 's', 00H, 'p', 00H, 'a'
	DB	00H, 't', 00H, 'c', 00H, 'h', 00H, ' ', 00H, 'T', 00H, 'S', 00H
	DB	'S', 00H, ' ', 00H, '.', 00H, '.', 00H, '.', 00H, ' ', 00H, 00H
	DB	00H						; `string'
CONST	ENDS
;	COMDAT ??_C@_1FC@HJFAKFNI@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAu?$AAp?$AA?5?$AAI?$AAD?$AAT?$AA?5?$AA?$CI?$AAI?$AAn?$AAt?$AAe@
CONST	SEGMENT
??_C@_1FC@HJFAKFNI@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAu?$AAp?$AA?5?$AAI?$AAD?$AAT?$AA?5?$AA?$CI?$AAI?$AAn?$AAt?$AAe@ DB 'S'
	DB	00H, 'e', 00H, 't', 00H, 't', 00H, 'i', 00H, 'n', 00H, 'g', 00H
	DB	' ', 00H, 'u', 00H, 'p', 00H, ' ', 00H, 'I', 00H, 'D', 00H, 'T'
	DB	00H, ' ', 00H, '(', 00H, 'I', 00H, 'n', 00H, 't', 00H, 'e', 00H
	DB	'r', 00H, 'r', 00H, 'u', 00H, 'p', 00H, 't', 00H, ' ', 00H, 'H'
	DB	00H, 'a', 00H, 'n', 00H, 'd', 00H, 'l', 00H, 'e', 00H, 'r', 00H
	DB	's', 00H, ')', 00H, ' ', 00H, '.', 00H, '.', 00H, '.', 00H, ' '
	DB	00H, 00H, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_1EC@KNNFMMNH@?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAP?$AAI?$AAC?$AA?8?$AAs?$AA?5?$AAa?$AAn?$AAd?$AA?5?$AAi?$AAn?$AAt@
CONST	SEGMENT
??_C@_1EC@KNNFMMNH@?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAP?$AAI?$AAC?$AA?8?$AAs?$AA?5?$AAa?$AAn?$AAd?$AA?5?$AAi?$AAn?$AAt@ DB 'E'
	DB	00H, 'n', 00H, 'a', 00H, 'b', 00H, 'l', 00H, 'e', 00H, ' ', 00H
	DB	'P', 00H, 'I', 00H, 'C', 00H, '''', 00H, 's', 00H, ' ', 00H, 'a'
	DB	00H, 'n', 00H, 'd', 00H, ' ', 00H, 'i', 00H, 'n', 00H, 't', 00H
	DB	'e', 00H, 'r', 00H, 'r', 00H, 'u', 00H, 'p', 00H, 't', 00H, 's'
	DB	00H, ' ', 00H, '.', 00H, '.', 00H, '.', 00H, ' ', 00H, 00H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_1DC@DEPIFANH@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs@
CONST	SEGMENT
??_C@_1DC@DEPIFANH@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs@ DB 'C'
	DB	00H, 'r', 00H, 'e', 00H, 'a', 00H, 't', 00H, 'i', 00H, 'n', 00H
	DB	'g', 00H, ' ', 00H, 'I', 00H, 'n', 00H, 'i', 00H, 't', 00H, ' '
	DB	00H, 'P', 00H, 'r', 00H, 'o', 00H, 'c', 00H, 'e', 00H, 's', 00H
	DB	's', 00H, '.', 00H, '.', 00H, '.', 00H, 00H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_1DC@DOGCHMEA@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAd?$AAl?$AAe?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs@
CONST	SEGMENT
??_C@_1DC@DOGCHMEA@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAd?$AAl?$AAe?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs@ DB 'C'
	DB	00H, 'r', 00H, 'e', 00H, 'a', 00H, 't', 00H, 'i', 00H, 'n', 00H
	DB	'g', 00H, ' ', 00H, 'I', 00H, 'd', 00H, 'l', 00H, 'e', 00H, ' '
	DB	00H, 'P', 00H, 'r', 00H, 'o', 00H, 'c', 00H, 'e', 00H, 's', 00H
	DB	's', 00H, '.', 00H, '.', 00H, '.', 00H, 00H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_1DC@HHBJAEIG@?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AA?5?$AAT?$AAe?$AAr?$AAm?$AAi?$AAn?$AAa@
CONST	SEGMENT
??_C@_1DC@HHBJAEIG@?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AA?5?$AAT?$AAe?$AAr?$AAm?$AAi?$AAn?$AAa@ DB 'I'
	DB	00H, 'n', 00H, 'i', 00H, 't', 00H, ' ', 00H, 'P', 00H, 'r', 00H
	DB	'o', 00H, 'c', 00H, 'e', 00H, 's', 00H, 's', 00H, ' ', 00H, 'T'
	DB	00H, 'e', 00H, 'r', 00H, 'm', 00H, 'i', 00H, 'n', 00H, 'a', 00H
	DB	't', 00H, 'e', 00H, 'd', 00H, 0aH, 00H, 00H, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BL@NFNAADMG@That?5is?5bad?0?5System?5Halted?$AA@
CONST	SEGMENT
??_C@_0BL@NFNAADMG@That?5is?5bad?0?5System?5Halted?$AA@ DB 'That is bad, '
	DB	'System Halted', 00H				; `string'
; Function compile flags: /Ogty
CONST	ENDS
;	COMDAT ?KernelEntry@@YAXXZ
_TEXT	SEGMENT
_i_VideoDriver$ = -3464
_InitProcess$ = -3456
_ker$ = -2304
_IdleProcess$ = -1152
?KernelEntry@@YAXXZ PROC NEAR				; KernelEntry, COMDAT

; 144  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 e4 f8	 and	 esp, -8			; fffffff8H
  00006	81 ec 88 0d 00
	00		 sub	 esp, 3464		; 00000d88H
  0000c	56		 push	 esi
  0000d	57		 push	 edi

; 145  : 	// Display start up messages
; 146  : 	VideoDriver i_VideoDriver;

  0000e	8d 4c 24 08	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3472]
  00012	e8 00 00 00 00	 call	 ??0VideoDriver@@QAE@XZ	; VideoDriver::VideoDriver

; 147  : 	pDisp = &i_VideoDriver;

  00017	8d 44 24 08	 lea	 eax, DWORD PTR _i_VideoDriver$[esp+3472]

; 148  : 	i_VideoDriver.ClearScreen();

  0001b	8d 4c 24 08	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3472]
  0001f	a3 00 00 00 00	 mov	 DWORD PTR ?pDisp@@3PAVVideoDriver@@A, eax ; pDisp
  00024	e8 00 00 00 00	 call	 ?ClearScreen@VideoDriver@@QAEXXZ ; VideoDriver::ClearScreen

; 149  : 	i_VideoDriver.WriteString(L"Display Initialised\nWelcome to ");

  00029	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1EA@PCALOENF@?$AAD?$AAi?$AAs?$AAp?$AAl?$AAa?$AAy?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AAi?$AAs?$AAe?$AAd?$AA?6@
  0002e	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  00032	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 150  : 	i_VideoDriver.SetColour(9);

  00037	6a 09		 push	 9
  00039	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  0003d	e8 00 00 00 00	 call	 ?SetColour@VideoDriver@@QAEXE@Z ; VideoDriver::SetColour

; 151  : 	i_VideoDriver.WriteString(L"Caboose v0.0.0.1\n");

  00042	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1CE@LAAGDDIB@?$AAC?$AAa?$AAb?$AAo?$AAo?$AAs?$AAe?$AA?5?$AAv?$AA0?$AA?4?$AA0?$AA?4?$AA0?$AA?4?$AA1?$AA?6?$AA?$AA@
  00047	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  0004b	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 152  : 	i_VideoDriver.SetColour(15);

  00050	6a 0f		 push	 15			; 0000000fH
  00052	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  00056	e8 00 00 00 00	 call	 ?SetColour@VideoDriver@@QAEXE@Z ; VideoDriver::SetColour

; 153  : 
; 154  : 	Kernel ker(reinterpret_cast<void *> (0xA10000),reinterpret_cast<void *> (0xA11000));

  0005b	68 00 10 a1 00	 push	 10555392		; 00a11000H
  00060	68 00 00 a1 00	 push	 10551296		; 00a10000H
  00065	8d 8c 24 98 04
	00 00		 lea	 ecx, DWORD PTR _ker$[esp+3480]
  0006c	e8 00 00 00 00	 call	 ??0Kernel@@QAE@PAX0@Z	; Kernel::Kernel

; 155  : 	CurrentProcess = &ker;

  00071	8d 8c 24 90 04
	00 00		 lea	 ecx, DWORD PTR _ker$[esp+3472]
  00078	89 0d 00 00 00
	00		 mov	 DWORD PTR ?CurrentProcess@@3PAVProcess@@A, ecx ; CurrentProcess

; 156  : 
; 157  : 	i_VideoDriver.WriteString(L"Setting up IDT (Exception Handlers) ... ");

  0007e	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1FC@OADJIDMP@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAu?$AAp?$AA?5?$AAI?$AAD?$AAT?$AA?5?$AA?$CI?$AAE?$AAx?$AAc?$AAe@
  00083	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  00087	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 158  : 	// set up IRQ1 (Keyboard) Interrupt Gate
; 159  : 	IDTAddress[0x00 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception0) & 0xFFFF0000);

  0008c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00091	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?Exception0@@YAXXZ ; Exception0
  00096	81 e2 00 8e ff
	ff		 and	 edx, -29184		; ffff8e00H
  0009c	81 ca 00 8e 00
	00		 or	 edx, 36352		; 00008e00H
  000a2	89 50 04	 mov	 DWORD PTR [eax+4], edx

; 160  : 	IDTAddress[0x00 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception0) & 0x0000FFFF);

  000a5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  000ab	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?Exception0@@YAXXZ ; Exception0
  000b0	81 e1 ff ff 00
	00		 and	 ecx, 65535		; 0000ffffH
  000b6	81 c9 00 00 08
	00		 or	 ecx, 524288		; 00080000H
  000bc	89 0a		 mov	 DWORD PTR [edx], ecx

; 161  : 	IDTAddress[0x01 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception1) & 0xFFFF0000);

  000be	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  000c4	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?Exception1@@YAXXZ ; Exception1
  000c9	25 00 8e ff ff	 and	 eax, -29184		; ffff8e00H
  000ce	0d 00 8e 00 00	 or	 eax, 36352		; 00008e00H
  000d3	89 41 0c	 mov	 DWORD PTR [ecx+12], eax

; 162  : 	IDTAddress[0x01 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception1) & 0x0000FFFF);

  000d6	a1 00 00 00 00	 mov	 eax, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  000db	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?Exception1@@YAXXZ ; Exception1
  000e0	81 e2 ff ff 00
	00		 and	 edx, 65535		; 0000ffffH
  000e6	81 ca 00 00 08
	00		 or	 edx, 524288		; 00080000H
  000ec	89 50 08	 mov	 DWORD PTR [eax+8], edx

; 163  : 	IDTAddress[0x02 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception2) & 0xFFFF0000);

  000ef	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  000f5	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?Exception2@@YAXXZ ; Exception2
  000fa	81 e1 00 8e ff
	ff		 and	 ecx, -29184		; ffff8e00H
  00100	81 c9 00 8e 00
	00		 or	 ecx, 36352		; 00008e00H
  00106	89 4a 14	 mov	 DWORD PTR [edx+20], ecx

; 164  : 	IDTAddress[0x02 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception2) & 0x0000FFFF);

  00109	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  0010f	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?Exception2@@YAXXZ ; Exception2
  00114	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00119	0d 00 00 08 00	 or	 eax, 524288		; 00080000H
  0011e	89 41 10	 mov	 DWORD PTR [ecx+16], eax

; 165  : 	IDTAddress[0x03 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception3) & 0xFFFF0000);

  00121	a1 00 00 00 00	 mov	 eax, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00126	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?Exception3@@YAXXZ ; Exception3
  0012b	81 e2 00 8e ff
	ff		 and	 edx, -29184		; ffff8e00H
  00131	81 ca 00 8e 00
	00		 or	 edx, 36352		; 00008e00H
  00137	89 50 1c	 mov	 DWORD PTR [eax+28], edx

; 166  : 	IDTAddress[0x03 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception3) & 0x0000FFFF);

  0013a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00140	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?Exception3@@YAXXZ ; Exception3
  00145	81 e1 ff ff 00
	00		 and	 ecx, 65535		; 0000ffffH
  0014b	81 c9 00 00 08
	00		 or	 ecx, 524288		; 00080000H
  00151	89 4a 18	 mov	 DWORD PTR [edx+24], ecx

; 167  : 	IDTAddress[0x04 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception4) & 0xFFFF0000);

  00154	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  0015a	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?Exception4@@YAXXZ ; Exception4
  0015f	25 00 8e ff ff	 and	 eax, -29184		; ffff8e00H
  00164	0d 00 8e 00 00	 or	 eax, 36352		; 00008e00H
  00169	89 41 24	 mov	 DWORD PTR [ecx+36], eax

; 168  : 	IDTAddress[0x04 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception4) & 0x0000FFFF);

  0016c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00171	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?Exception4@@YAXXZ ; Exception4
  00176	81 e2 ff ff 00
	00		 and	 edx, 65535		; 0000ffffH
  0017c	81 ca 00 00 08
	00		 or	 edx, 524288		; 00080000H

; 169  : 	IDTAddress[0x05 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception5) & 0xFFFF0000);

  00182	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?Exception5@@YAXXZ ; Exception5
  00187	89 50 20	 mov	 DWORD PTR [eax+32], edx
  0018a	81 e1 00 8e ff
	ff		 and	 ecx, -29184		; ffff8e00H
  00190	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00196	81 c9 00 8e 00
	00		 or	 ecx, 36352		; 00008e00H
  0019c	89 4a 2c	 mov	 DWORD PTR [edx+44], ecx

; 170  : 	IDTAddress[0x05 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception5) & 0x0000FFFF);

  0019f	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  001a5	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?Exception5@@YAXXZ ; Exception5
  001aa	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  001af	0d 00 00 08 00	 or	 eax, 524288		; 00080000H
  001b4	89 41 28	 mov	 DWORD PTR [ecx+40], eax

; 171  : 	IDTAddress[0x06 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception6) & 0xFFFF0000);

  001b7	a1 00 00 00 00	 mov	 eax, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  001bc	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?Exception6@@YAXXZ ; Exception6
  001c1	81 e2 00 8e ff
	ff		 and	 edx, -29184		; ffff8e00H
  001c7	81 ca 00 8e 00
	00		 or	 edx, 36352		; 00008e00H
  001cd	89 50 34	 mov	 DWORD PTR [eax+52], edx

; 172  : 	IDTAddress[0x06 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception6) & 0x0000FFFF);

  001d0	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  001d6	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?Exception6@@YAXXZ ; Exception6
  001db	81 e1 ff ff 00
	00		 and	 ecx, 65535		; 0000ffffH
  001e1	81 c9 00 00 08
	00		 or	 ecx, 524288		; 00080000H
  001e7	89 4a 30	 mov	 DWORD PTR [edx+48], ecx

; 173  : 	IDTAddress[0x07 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception7) & 0xFFFF0000);

  001ea	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  001f0	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?Exception7@@YAXXZ ; Exception7
  001f5	25 00 8e ff ff	 and	 eax, -29184		; ffff8e00H
  001fa	0d 00 8e 00 00	 or	 eax, 36352		; 00008e00H
  001ff	89 41 3c	 mov	 DWORD PTR [ecx+60], eax

; 174  : 	IDTAddress[0x07 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception7) & 0x0000FFFF);

  00202	a1 00 00 00 00	 mov	 eax, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00207	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?Exception7@@YAXXZ ; Exception7
  0020c	81 e2 ff ff 00
	00		 and	 edx, 65535		; 0000ffffH
  00212	81 ca 00 00 08
	00		 or	 edx, 524288		; 00080000H
  00218	89 50 38	 mov	 DWORD PTR [eax+56], edx

; 175  : 	IDTAddress[0x08 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception8) & 0xFFFF0000);

  0021b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00221	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?Exception8@@YAXXZ ; Exception8
  00226	81 e1 00 8e ff
	ff		 and	 ecx, -29184		; ffff8e00H
  0022c	81 c9 00 8e 00
	00		 or	 ecx, 36352		; 00008e00H
  00232	89 4a 44	 mov	 DWORD PTR [edx+68], ecx

; 176  : 	IDTAddress[0x08 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception8) & 0x0000FFFF);

  00235	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  0023b	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?Exception8@@YAXXZ ; Exception8
  00240	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00245	0d 00 00 08 00	 or	 eax, 524288		; 00080000H
  0024a	89 41 40	 mov	 DWORD PTR [ecx+64], eax

; 177  : 	IDTAddress[0x09 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception9) & 0xFFFF0000);

  0024d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00252	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?Exception9@@YAXXZ ; Exception9
  00257	81 e2 00 8e ff
	ff		 and	 edx, -29184		; ffff8e00H
  0025d	81 ca 00 8e 00
	00		 or	 edx, 36352		; 00008e00H
  00263	89 50 4c	 mov	 DWORD PTR [eax+76], edx

; 178  : 	IDTAddress[0x09 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception9) & 0x0000FFFF);

  00266	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  0026c	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?Exception9@@YAXXZ ; Exception9
  00271	81 e1 ff ff 00
	00		 and	 ecx, 65535		; 0000ffffH
  00277	81 c9 00 00 08
	00		 or	 ecx, 524288		; 00080000H
  0027d	89 4a 48	 mov	 DWORD PTR [edx+72], ecx

; 179  : 	IDTAddress[0x0A * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception10) & 0xFFFF0000);

  00280	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00286	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?Exception10@@YAXXZ ; Exception10
  0028b	25 00 8e ff ff	 and	 eax, -29184		; ffff8e00H
  00290	0d 00 8e 00 00	 or	 eax, 36352		; 00008e00H
  00295	89 41 54	 mov	 DWORD PTR [ecx+84], eax

; 180  : 	IDTAddress[0x0A * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception10) & 0x0000FFFF);

  00298	a1 00 00 00 00	 mov	 eax, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  0029d	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?Exception10@@YAXXZ ; Exception10
  002a2	81 e2 ff ff 00
	00		 and	 edx, 65535		; 0000ffffH
  002a8	81 ca 00 00 08
	00		 or	 edx, 524288		; 00080000H
  002ae	89 50 50	 mov	 DWORD PTR [eax+80], edx

; 181  : 	IDTAddress[0x0B * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception11) & 0xFFFF0000);

  002b1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  002b7	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?Exception11@@YAXXZ ; Exception11
  002bc	81 e1 00 8e ff
	ff		 and	 ecx, -29184		; ffff8e00H
  002c2	81 c9 00 8e 00
	00		 or	 ecx, 36352		; 00008e00H
  002c8	89 4a 5c	 mov	 DWORD PTR [edx+92], ecx

; 182  : 	IDTAddress[0x0B * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception11) & 0x0000FFFF);

  002cb	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  002d1	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?Exception11@@YAXXZ ; Exception11
  002d6	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  002db	0d 00 00 08 00	 or	 eax, 524288		; 00080000H
  002e0	89 41 58	 mov	 DWORD PTR [ecx+88], eax

; 183  : 	IDTAddress[0x0C * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception12) & 0xFFFF0000);

  002e3	a1 00 00 00 00	 mov	 eax, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  002e8	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?Exception12@@YAXXZ ; Exception12
  002ed	81 e2 00 8e ff
	ff		 and	 edx, -29184		; ffff8e00H
  002f3	81 ca 00 8e 00
	00		 or	 edx, 36352		; 00008e00H
  002f9	89 50 64	 mov	 DWORD PTR [eax+100], edx

; 184  : 	IDTAddress[0x0C * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception12) & 0x0000FFFF);

  002fc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00302	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?Exception12@@YAXXZ ; Exception12
  00307	81 e1 ff ff 00
	00		 and	 ecx, 65535		; 0000ffffH

; 185  : 	IDTAddress[0x0D * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception13) & 0xFFFF0000);

  0030d	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?Exception13@@YAXXZ ; Exception13
  00312	81 c9 00 00 08
	00		 or	 ecx, 524288		; 00080000H
  00318	25 00 8e ff ff	 and	 eax, -29184		; ffff8e00H
  0031d	89 4a 60	 mov	 DWORD PTR [edx+96], ecx
  00320	0d 00 8e 00 00	 or	 eax, 36352		; 00008e00H
  00325	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  0032b	89 41 6c	 mov	 DWORD PTR [ecx+108], eax

; 186  : 	IDTAddress[0x0D * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception13) & 0x0000FFFF);

  0032e	a1 00 00 00 00	 mov	 eax, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00333	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?Exception13@@YAXXZ ; Exception13
  00338	81 e2 ff ff 00
	00		 and	 edx, 65535		; 0000ffffH
  0033e	81 ca 00 00 08
	00		 or	 edx, 524288		; 00080000H
  00344	89 50 68	 mov	 DWORD PTR [eax+104], edx

; 187  : 	IDTAddress[0x0E * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception14) & 0xFFFF0000);

  00347	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  0034d	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?Exception14@@YAXXZ ; Exception14
  00352	81 e1 00 8e ff
	ff		 and	 ecx, -29184		; ffff8e00H
  00358	81 c9 00 8e 00
	00		 or	 ecx, 36352		; 00008e00H
  0035e	89 4a 74	 mov	 DWORD PTR [edx+116], ecx

; 188  : 	IDTAddress[0x0E * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception14) & 0x0000FFFF);

  00361	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00367	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?Exception14@@YAXXZ ; Exception14
  0036c	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  00371	0d 00 00 08 00	 or	 eax, 524288		; 00080000H
  00376	89 41 70	 mov	 DWORD PTR [ecx+112], eax

; 189  : 	/*IDTAddress[0x0F * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 190  : 	IDTAddress[0x0F * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 191  : 	IDTAddress[0x10 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 192  : 	IDTAddress[0x10 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 193  : 	IDTAddress[0x11 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 194  : 	IDTAddress[0x11 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 195  : 	IDTAddress[0x12 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 196  : 	IDTAddress[0x12 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 197  : 	IDTAddress[0x13 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 198  : 	IDTAddress[0x13 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 199  : 	IDTAddress[0x14 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 200  : 	IDTAddress[0x14 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 201  : 	IDTAddress[0x15 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 202  : 	IDTAddress[0x15 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 203  : 	IDTAddress[0x16 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 204  : 	IDTAddress[0x16 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 205  : 	IDTAddress[0x17 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 206  : 	IDTAddress[0x17 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 207  : 	IDTAddress[0x18 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 208  : 	IDTAddress[0x18 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 209  : 	IDTAddress[0x19 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 210  : 	IDTAddress[0x19 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 211  : 	IDTAddress[0x1A * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 212  : 	IDTAddress[0x1A * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 213  : 	IDTAddress[0x1B * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 214  : 	IDTAddress[0x1B * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 215  : 	IDTAddress[0x1C * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 216  : 	IDTAddress[0x1C * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 217  : 	IDTAddress[0x1D * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 218  : 	IDTAddress[0x1D * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 219  : 	IDTAddress[0x1E * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 220  : 	IDTAddress[0x1E * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 221  : 	IDTAddress[0x1F * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (Exception) & 0xFFFF0000);
; 222  : 	IDTAddress[0x1F * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (Exception) & 0x0000FFFF);
; 223  : 	*/
; 224  : 	i_VideoDriver.WriteString(L"Done\n");

  00379	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1M@GFEGCGOG@?$AAD?$AAo?$AAn?$AAe?$AA?6?$AA?$AA@
  0037e	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  00382	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 225  : 	
; 226  : 
; 227  : 	// Set up Initialiser Task bits & Bobs
; 228  : 	i_VideoDriver.WriteString(L"Setting Initial TSS & Dispatch TSS ... ");

  00387	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1FA@KFBANILN@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAn?$AAi?$AAt?$AAi?$AAa?$AAl?$AA?5?$AAT?$AAS?$AAS?$AA?5@
  0038c	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  00390	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 229  : 	//printf("\n%d\n", reinterpret_cast<const unsigned long> (&GlobalTSS));
; 230  : 	GDTAddress[6] = ((reinterpret_cast<const unsigned long> (&GlobalTSS) & 0xFFFF) << 16 | 0x68);

  00395	a1 00 00 00 00	 mov	 eax, DWORD PTR ?GDTAddress@@3PAKA ; GDTAddress
  0039a	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?GlobalTSS@@3UTSS@@A ; GlobalTSS
  0039f	c1 e2 10	 shl	 edx, 16			; 00000010H
  003a2	83 ca 68	 or	 edx, 104		; 00000068H
  003a5	89 50 18	 mov	 DWORD PTR [eax+24], edx

; 231  : 	GDTAddress[7] = ((reinterpret_cast<const unsigned long> (&GlobalTSS) & 0xFF000000) | (reinterpret_cast<const unsigned long> (&GlobalTSS) & 0xFF0000) >> 16 | 0x008900);

  003a8	a1 00 00 00 00	 mov	 eax, DWORD PTR ?GDTAddress@@3PAKA ; GDTAddress
  003ad	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?GlobalTSS@@3UTSS@@A ; GlobalTSS
  003b2	81 e1 00 00 ff
	00		 and	 ecx, 16711680		; 00ff0000H
  003b8	81 c9 ff ff 00
	89		 or	 ecx, -1996423169	; 8900ffffH
  003be	ba 00 00 00 00	 mov	 edx, OFFSET FLAT:?GlobalTSS@@3UTSS@@A ; GlobalTSS
  003c3	c1 e9 10	 shr	 ecx, 16			; 00000010H
  003c6	81 e2 00 89 00
	ff		 and	 edx, -16742144		; ff008900H
  003cc	0b ca		 or	 ecx, edx
  003ce	89 48 1c	 mov	 DWORD PTR [eax+28], ecx

; 232  : 	//GDTAddress[7] = ((reinterpret_cast<const unsigned long> (&GlobalTSS) & 0xFF000000) | (reinterpret_cast<const unsigned long> (&GlobalTSS) & 0xFF0000) >> 16 | 0x008B00);
; 233  : 	GlobalTSS.SS = 0x10;

  003d1	b9 10 00 00 00	 mov	 ecx, 16			; 00000010H

; 234  : 	GlobalTSS.CS = 0x8;
; 235  : 	GlobalTSS.DS = 0x10;
; 236  : 	GlobalTSS.ES = 0x10;
; 237  : 	GlobalTSS.FS = 0x10;
; 238  : 	GlobalTSS.GS = 0x10;
; 239  : 
; 240  : 	//GlobalTSS.ESP = reinterpret_cast<unsigned long> (DispatchStack) + 1023;
; 241  : 	//GlobalTSS.EIP = reinterpret_cast<unsigned long> (TimerDriver::RawISR);
; 242  : 	GlobalTSS.LDT = 0;

  003d6	33 f6		 xor	 esi, esi
  003d8	ba 08 00 00 00	 mov	 edx, 8
  003dd	66 89 0d 50 00
	00 00		 mov	 WORD PTR ?GlobalTSS@@3UTSS@@A+80, cx
  003e4	66 89 15 4c 00
	00 00		 mov	 WORD PTR ?GlobalTSS@@3UTSS@@A+76, dx
  003eb	66 89 0d 54 00
	00 00		 mov	 WORD PTR ?GlobalTSS@@3UTSS@@A+84, cx
  003f2	66 89 0d 48 00
	00 00		 mov	 WORD PTR ?GlobalTSS@@3UTSS@@A+72, cx
  003f9	66 89 0d 58 00
	00 00		 mov	 WORD PTR ?GlobalTSS@@3UTSS@@A+88, cx
  00400	66 89 0d 5c 00
	00 00		 mov	 WORD PTR ?GlobalTSS@@3UTSS@@A+92, cx
  00407	66 89 35 60 00
	00 00		 mov	 WORD PTR ?GlobalTSS@@3UTSS@@A+96, si

; 243  : 	GlobalTSS.TaskLink = 0;	

  0040e	66 89 35 00 00
	00 00		 mov	 WORD PTR ?GlobalTSS@@3UTSS@@A, si

; 244  : 	/*printf("GlobalTSS Dump\n");
; 245  : 	for (DWORD * i = reinterpret_cast<DWORD *> (&GlobalTSS) + (100/4); i>=reinterpret_cast<DWORD *> (&GlobalTSS); i-=4)
; 246  : 	{
; 247  : 		printf("%d %d %d %d\n", *i, *(i-1), *(i-2), *(i-3));
; 248  : 	}*/
; 249  : 
; 250  : 
; 251  : 	__asm
; 252  : 	{
; 253  : 		PUSH ax

  00415	66 50		 push	 ax

; 254  : 		MOV ax, 0x18

  00417	66 b8 18 00	 mov	 ax, 24			; 00000018H

; 255  : 		LTR ax

  0041b	0f 00 d8	 ltr	 ax

; 256  : 		POP ax

  0041e	66 58		 pop	 ax

; 257  : 	};
; 258  : 	//i_VideoDriver.WriteString(L"Next\n");
; 259  : 
; 260  : 	// Seg 0x20, dispatch segment setup
; 261  : 	GDTAddress[8] = ((reinterpret_cast<const unsigned long> (&DispatchTSS) & 0xFFFF) << 16 | 0x68);

  00420	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?GDTAddress@@3PAKA ; GDTAddress
  00426	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?DispatchTSS@@3UTSS@@A ; DispatchTSS
  0042b	c1 e0 10	 shl	 eax, 16			; 00000010H
  0042e	83 c8 68	 or	 eax, 104		; 00000068H
  00431	89 47 20	 mov	 DWORD PTR [edi+32], eax

; 262  : 	GDTAddress[9] = ((reinterpret_cast<const unsigned long> (&DispatchTSS) & 0xFF000000) | (reinterpret_cast<const unsigned long> (&DispatchTSS) & 0xFF0000) >> 16 | 0x008900);

  00434	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?DispatchTSS@@3UTSS@@A ; DispatchTSS
  00439	25 00 00 ff 00	 and	 eax, 16711680		; 00ff0000H
  0043e	0d ff ff 00 89	 or	 eax, -1996423169	; 8900ffffH
  00443	bf 00 00 00 00	 mov	 edi, OFFSET FLAT:?DispatchTSS@@3UTSS@@A ; DispatchTSS
  00448	c1 e8 10	 shr	 eax, 16			; 00000010H
  0044b	81 e7 00 89 00
	ff		 and	 edi, -16742144		; ff008900H
  00451	0b c7		 or	 eax, edi
  00453	8b 3d 00 00 00
	00		 mov	 edi, DWORD PTR ?GDTAddress@@3PAKA ; GDTAddress
  00459	89 47 24	 mov	 DWORD PTR [edi+36], eax

; 263  : 	DispatchTSS.SS = 0x10;

  0045c	66 89 0d 50 00
	00 00		 mov	 WORD PTR ?DispatchTSS@@3UTSS@@A+80, cx

; 264  : 	DispatchTSS.CS = 0x8;
; 265  : 	DispatchTSS.DS = 0x10;

  00463	66 89 0d 54 00
	00 00		 mov	 WORD PTR ?DispatchTSS@@3UTSS@@A+84, cx

; 266  : 	DispatchTSS.ES = 0x10;

  0046a	66 89 0d 48 00
	00 00		 mov	 WORD PTR ?DispatchTSS@@3UTSS@@A+72, cx

; 267  : 	DispatchTSS.FS = 0x10;

  00471	66 89 0d 58 00
	00 00		 mov	 WORD PTR ?DispatchTSS@@3UTSS@@A+88, cx

; 268  : 	DispatchTSS.GS = 0x10;

  00478	66 89 0d 5c 00
	00 00		 mov	 WORD PTR ?DispatchTSS@@3UTSS@@A+92, cx

; 269  : 
; 270  : 	DispatchTSS.ESP = reinterpret_cast<unsigned long> (DispatchStack) + 1023;
; 271  : 	DispatchTSS.EIP = reinterpret_cast<unsigned long> (TimerDriver::RawISR);
; 272  : 	DispatchTSS.LDT = 0;
; 273  : 	DispatchTSS.TaskLink = 0;
; 274  : 
; 275  : 	i_VideoDriver.WriteString(L"Done\n");

  0047f	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1M@GFEGCGOG@?$AAD?$AAo?$AAn?$AAe?$AA?6?$AA?$AA@
  00484	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  00488	66 89 15 4c 00
	00 00		 mov	 WORD PTR ?DispatchTSS@@3UTSS@@A+76, dx
  0048f	c7 05 38 00 00
	00 ff 03 00 00	 mov	 DWORD PTR ?DispatchTSS@@3UTSS@@A+56, OFFSET FLAT:?DispatchStack@@3PAEA+1023
  00499	c7 05 20 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?DispatchTSS@@3UTSS@@A+32, OFFSET FLAT:?RawISR@TimerDriver@@SAXXZ ; TimerDriver::RawISR
  004a3	66 89 35 60 00
	00 00		 mov	 WORD PTR ?DispatchTSS@@3UTSS@@A+96, si
  004aa	66 89 35 00 00
	00 00		 mov	 WORD PTR ?DispatchTSS@@3UTSS@@A, si
  004b1	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 276  : 
; 277  : 	i_VideoDriver.WriteString(L"Setting up IDT (Interrupt Handlers) ... ");

  004b6	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1FC@HJFAKFNI@?$AAS?$AAe?$AAt?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAu?$AAp?$AA?5?$AAI?$AAD?$AAT?$AA?5?$AA?$CI?$AAI?$AAn?$AAt?$AAe@
  004bb	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  004bf	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 278  : 
; 279  : 	// Interrupt Service Routines
; 280  : 	IDTAddress[0x21 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (KeyboardDriver::RawISR) & 0xFFFF0000); 

  004c4	b9 00 00 00 00	 mov	 ecx, OFFSET FLAT:?RawISR@KeyboardDriver@@SAXXZ ; KeyboardDriver::RawISR
  004c9	81 e1 00 8e ff
	ff		 and	 ecx, -29184		; ffff8e00H
  004cf	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  004d5	81 c9 00 8e 00
	00		 or	 ecx, 36352		; 00008e00H
  004db	89 8a 0c 01 00
	00		 mov	 DWORD PTR [edx+268], ecx

; 281  : 	IDTAddress[0x21 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (KeyboardDriver::RawISR) & 0x0000FFFF); 

  004e1	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  004e7	b8 00 00 00 00	 mov	 eax, OFFSET FLAT:?RawISR@KeyboardDriver@@SAXXZ ; KeyboardDriver::RawISR
  004ec	25 ff ff 00 00	 and	 eax, 65535		; 0000ffffH
  004f1	0d 00 00 08 00	 or	 eax, 524288		; 00080000H
  004f6	89 81 08 01 00
	00		 mov	 DWORD PTR [ecx+264], eax

; 282  : 	//IDTAddress[0x20 * 2 + 1] = 0x00008E00 | (reinterpret_cast<const unsigned long> (TimerDriver::RawISR) & 0xFFFF0000); 
; 283  : 	//IDTAddress[0x20 * 2] = 0x00080000 | (reinterpret_cast<const unsigned long> (TimerDriver::RawISR) & 0x0000FFFF); 
; 284  : 	IDTAddress[0x20 * 2 + 1] = 0x8500;

  004fc	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress
  00502	c7 82 04 01 00
	00 00 85 00 00	 mov	 DWORD PTR [edx+260], 34048 ; 00008500H

; 285  : 	IDTAddress[0x20 * 2] = 0x200000;

  0050c	a1 00 00 00 00	 mov	 eax, DWORD PTR ?IDTAddress@@3PAKA ; IDTAddress

; 286  : 
; 287  : 	i_VideoDriver.WriteString(L"Done\n");

  00511	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1M@GFEGCGOG@?$AAD?$AAo?$AAn?$AAe?$AA?6?$AA?$AA@
  00516	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  0051a	c7 80 00 01 00
	00 00 00 20 00	 mov	 DWORD PTR [eax+256], 2097152 ; 00200000H
  00524	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 288  : 
; 289  : 
; 290  : 	i_VideoDriver.WriteString(L"Enable PIC's and interrupts ... ");

  00529	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1EC@KNNFMMNH@?$AAE?$AAn?$AAa?$AAb?$AAl?$AAe?$AA?5?$AAP?$AAI?$AAC?$AA?8?$AAs?$AA?5?$AAa?$AAn?$AAd?$AA?5?$AAi?$AAn?$AAt@
  0052e	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  00532	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 291  :     __asm
; 292  : 	{
; 293  : 		// ICW1
; 294  : 		MOV al, 0x11

  00537	b0 11		 mov	 al, 17			; 00000011H

; 295  : 		OUT IO_PIC1, al

  00539	e6 20		 out	 32, al			; 00000020H

; 296  : 		OUT IO_PIC2, al

  0053b	e6 a0		 out	 160, al			; 000000a0H

; 297  : 
; 298  : 		// ICW2
; 299  : 		MOV al, 0x20

  0053d	b0 20		 mov	 al, 32			; 00000020H

; 300  : 		OUT IO_PIC1+1, al

  0053f	e6 21		 out	 33, al			; 00000021H

; 301  : 
; 302  : 		MOV al, 0x28

  00541	b0 28		 mov	 al, 40			; 00000028H

; 303  : 		OUT IO_PIC2+1, al

  00543	e6 a1		 out	 161, al			; 000000a1H

; 304  : 
; 305  : 		// ICW3
; 306  : 		MOV al, 0x04

  00545	b0 04		 mov	 al, 4

; 307  : 		OUT IO_PIC1+1, al

  00547	e6 21		 out	 33, al			; 00000021H

; 308  : 
; 309  : 		MOV al, 0x02

  00549	b0 02		 mov	 al, 2

; 310  : 		OUT IO_PIC2+1, al

  0054b	e6 a1		 out	 161, al			; 000000a1H

; 311  : 
; 312  : 		// ICW4
; 313  : 		MOV al, 0x01

  0054d	b0 01		 mov	 al, 1

; 314  : 		OUT IO_PIC1+1, al

  0054f	e6 21		 out	 33, al			; 00000021H

; 315  : 		OUT IO_PIC2+1, al

  00551	e6 a1		 out	 161, al			; 000000a1H

; 316  : 
; 317  : 		// Set up the time of day counter
; 318  : 		MOV al, 0x37

  00553	b0 37		 mov	 al, 55			; 00000037H

; 319  : 		OUT IO_TMR + 4, al

  00555	e6 44		 out	 68, al			; 00000044H

; 320  : 		MOV al, 0x95

  00557	b0 95		 mov	 al, -107		; ffffff95H

; 321  : 		OUT IO_TMR, al

  00559	e6 40		 out	 64, al			; 00000040H

; 322  : 		MOV al, 0x2e

  0055b	b0 2e		 mov	 al, 46			; 0000002eH

; 323  : 		OUT IO_TMR, al

  0055d	e6 40		 out	 64, al			; 00000040H

; 324  : 
; 325  : 		// PIC's are set up
; 326  : 		// now unmask keybd interrupt and timer interrupt
; 327  : 		MOV al, 0xFC

  0055f	b0 fc		 mov	 al, -4			; fffffffcH

; 328  : 		OUT IO_PIC1 + 1, al

  00561	e6 21		 out	 33, al			; 00000021H

; 329  : 		MOV al, 0xFF

  00563	b0 ff		 mov	 al, -1

; 330  : 		OUT IO_PIC2 + 1, al

  00565	e6 a1		 out	 161, al			; 000000a1H

; 331  : 
; 332  : 		// Enable Interupts
; 333  : 		//STI
; 334  : 	}
; 335  : 	
; 336  : 	i_VideoDriver.WriteString(L"Done\n");

  00567	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1M@GFEGCGOG@?$AAD?$AAo?$AAn?$AAe?$AA?6?$AA?$AA@
  0056c	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  00570	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 337  : 	/*__asm int 0x20;
; 338  : 	while(1);
; 339  : 	i_VideoDriver.WriteString(L"One Int\n");
; 340  : 	__asm int 0x20;
; 341  : 	i_VideoDriver.WriteString(L"Two Int\n");*/
; 342  : 	//while(1) printf("G");
; 343  : 
; 344  : 	/*for (int i = 0; 1 ; ++i)
; 345  : 	{
; 346  : 		i_VideoDriver.WriteHexByte(i);
; 347  : 		i_VideoDriver.WriteString(" ");
; 348  : 	}*/
; 349  : 
; 350  : 
; 351  : 	//Snake();
; 352  : 
; 353  : 	// Set up Process Queues
; 354  : 	ActiveProcesses = &pAll;
; 355  : 	ReadyProcesses = &pRdy;
; 356  : 	pAll.Head.Next = NULL;
; 357  : 	pRdy.Head.Next = NULL;
; 358  : 
; 359  : 	//Snake();
; 360  : 	//while(1);
; 361  : 	
; 362  : 	// Alloc Test
; 363  : 	i_VideoDriver.WriteString(L"Creating Init Process...");

  00575	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1DC@DEPIFANH@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs@
  0057a	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  0057e	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?ActiveProcesses@@3PAVProcessQueue@@A, OFFSET FLAT:?pAll@@3VProcessQueue@@A ; ActiveProcesses, pAll
  00588	c7 05 00 00 00
	00 00 00 00 00	 mov	 DWORD PTR ?ReadyProcesses@@3PAVProcessQueue@@A, OFFSET FLAT:?pRdy@@3VProcessQueue@@A ; ReadyProcesses, pRdy
  00592	89 35 00 00 00
	00		 mov	 DWORD PTR ?pAll@@3VProcessQueue@@A, esi
  00598	89 35 00 00 00
	00		 mov	 DWORD PTR ?pRdy@@3VProcessQueue@@A, esi
  0059e	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 364  : 	Init InitProcess(reinterpret_cast<void *> (0xA11000), reinterpret_cast<void *> (0xA12000));

  005a3	68 00 20 a1 00	 push	 10559488		; 00a12000H
  005a8	68 00 10 a1 00	 push	 10555392		; 00a11000H
  005ad	8d 4c 24 18	 lea	 ecx, DWORD PTR _InitProcess$[esp+3480]
  005b1	e8 00 00 00 00	 call	 ??0Init@@QAE@PAX0@Z	; Init::Init

; 365  : 	CreateProcess(&InitProcess);

  005b6	8d 4c 24 10	 lea	 ecx, DWORD PTR _InitProcess$[esp+3472]
  005ba	51		 push	 ecx
  005bb	e8 00 00 00 00	 call	 ?CreateProcess@@YAHPAVProcess@@@Z ; CreateProcess
  005c0	83 c4 04	 add	 esp, 4

; 366  : 	i_VideoDriver.WriteString(L"Done\n");

  005c3	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1M@GFEGCGOG@?$AAD?$AAo?$AAn?$AAe?$AA?6?$AA?$AA@
  005c8	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  005cc	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 367  : 
; 368  : 
; 369  : 
; 370  : 	i_VideoDriver.WriteString(L"Creating Idle Process...");

  005d1	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1DC@DOGCHMEA@?$AAC?$AAr?$AAe?$AAa?$AAt?$AAi?$AAn?$AAg?$AA?5?$AAI?$AAd?$AAl?$AAe?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs@
  005d6	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  005da	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 371  : 	Idle IdleProcess(reinterpret_cast<void *> (0xA12000), reinterpret_cast<void *> (0xA13000));

  005df	68 00 30 a1 00	 push	 10563584		; 00a13000H
  005e4	68 00 20 a1 00	 push	 10559488		; 00a12000H
  005e9	8d 8c 24 18 09
	00 00		 lea	 ecx, DWORD PTR _IdleProcess$[esp+3480]
  005f0	e8 00 00 00 00	 call	 ??0Idle@@QAE@PAX0@Z	; Idle::Idle

; 372  : 	CreateProcess(&IdleProcess);

  005f5	8d 94 24 10 09
	00 00		 lea	 edx, DWORD PTR _IdleProcess$[esp+3472]
  005fc	52		 push	 edx
  005fd	e8 00 00 00 00	 call	 ?CreateProcess@@YAHPAVProcess@@@Z ; CreateProcess
  00602	83 c4 04	 add	 esp, 4

; 373  : 	i_VideoDriver.WriteString(L"Done\n");

  00605	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1M@GFEGCGOG@?$AAD?$AAo?$AAn?$AAe?$AA?6?$AA?$AA@
  0060a	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  0060e	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 374  : 
; 375  : 
; 376  : 	ReadyProcesses->RemoveStart();

  00613	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?ReadyProcesses@@3PAVProcessQueue@@A ; ReadyProcesses
  00619	e8 00 00 00 00	 call	 ?RemoveStart@ProcessQueue@@QAEPAVProcess@@XZ ; ProcessQueue::RemoveStart

; 377  : 	CurrentProcess = &InitProcess;

  0061e	8d 44 24 10	 lea	 eax, DWORD PTR _InitProcess$[esp+3472]
  00622	a3 00 00 00 00	 mov	 DWORD PTR ?CurrentProcess@@3PAVProcess@@A, eax ; CurrentProcess

; 378  : 
; 379  : 	// Unset the busy flag of the first process
; 380  : 	GDTAddress[21] &= ~0x000200;

  00627	a1 00 00 00 00	 mov	 eax, DWORD PTR ?GDTAddress@@3PAKA ; GDTAddress
  0062c	81 60 54 ff fd
	ff ff		 and	 DWORD PTR [eax+84], -513 ; fffffdffH

; 381  : 
; 382  : 
; 383  : 	//__asm STI
; 384  : 	//while(1);
; 385  : 	
; 386  : 	__asm
; 387  : 	{
; 388  : 		//STI
; 389  : 
; 390  : 
; 391  : 		;call [0x50:0]
; 392  : 		_emit 0x9A

  00633	9a		 DB	 -102			; ffffff9aH

; 393  : 		_emit 0x00

  00634	00		 DB	 0

; 394  : 		_emit 0x00

  00635	00		 DB	 0

; 395  : 		_emit 0x00

  00636	00		 DB	 0

; 396  : 		_emit 0x00

  00637	00		 DB	 0

; 397  : 		_emit 0x50

  00638	50		 DB	 80			; 00000050H

; 398  : 		_emit 0x00

  00639	00		 DB	 0

; 399  : 	};
; 400  : 
; 401  : 
; 402  : 
; 403  : 	//InitProcess.ProcessEntry(0, NULL);
; 404  : 	i_VideoDriver.WriteString(L"Init Process Terminated\n");

  0063a	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_1DC@HHBJAEIG@?$AAI?$AAn?$AAi?$AAt?$AA?5?$AAP?$AAr?$AAo?$AAc?$AAe?$AAs?$AAs?$AA?5?$AAT?$AAe?$AAr?$AAm?$AAi?$AAn?$AAa@
  0063f	8d 4c 24 0c	 lea	 ecx, DWORD PTR _i_VideoDriver$[esp+3476]
  00643	e8 00 00 00 00	 call	 ?WriteString@VideoDriver@@QAEXPA_W@Z ; VideoDriver::WriteString

; 405  : 	printf("That is bad, System Halted");

  00648	68 00 00 00 00	 push	 OFFSET FLAT:??_C@_0BL@NFNAADMG@That?5is?5bad?0?5System?5Halted?$AA@
  0064d	e8 00 00 00 00	 call	 ?printf@@YAXPBDZZ	; printf
  00652	83 c4 04	 add	 esp, 4
$L791:

; 406  :     while(1);

  00655	eb fe		 jmp	 SHORT $L791
?KernelEntry@@YAXXZ ENDP				; KernelEntry
_TEXT	ENDS
PUBLIC	?Snake@@YAXXZ					; Snake
EXTRN	?WriteHexByte@VideoDriver@@QAEXE@Z:NEAR		; VideoDriver::WriteHexByte
EXTRN	?Ticks@TimerDriver@@2KC:DWORD			; TimerDriver::Ticks
; Function compile flags: /Ogty
;	COMDAT ?Snake@@YAXXZ
_TEXT	SEGMENT
_Seconds$ = -12
_vid$ = -8
?Snake@@YAXXZ PROC NEAR					; Snake, COMDAT

; 491  : {

  00000	83 ec 0c	 sub	 esp, 12			; 0000000cH
  00003	53		 push	 ebx
  00004	56		 push	 esi

; 492  : 	VideoDriver vid;

  00005	8d 4c 24 0c	 lea	 ecx, DWORD PTR _vid$[esp+20]
  00009	e8 00 00 00 00	 call	 ??0VideoDriver@@QAE@XZ	; VideoDriver::VideoDriver

; 493  : 	//vid.ClearScreen();
; 494  : 	
; 495  : 	unsigned long OldTicks = 0;

  0000e	33 f6		 xor	 esi, esi

; 496  : 	unsigned char Seconds = 0;

  00010	32 db		 xor	 bl, bl
$L822:
  00012	8d 46 64	 lea	 eax, DWORD PTR [esi+100]
$L825:

; 497  : 	while (1)
; 498  : 	{
; 499  : 		while (OldTicks + 100 >= (TimerDriver::Ticks));

  00015	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?Ticks@TimerDriver@@2KC ; TimerDriver::Ticks
  0001b	73 f8		 jae	 SHORT $L825

; 500  : 		OldTicks = TimerDriver::Ticks;

  0001d	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?Ticks@TimerDriver@@2KC ; TimerDriver::Ticks

; 501  : 		if (++Seconds == 60)

  00023	fe c3		 inc	 bl
  00025	80 fb 3c	 cmp	 bl, 60			; 0000003cH
  00028	88 5c 24 08	 mov	 BYTE PTR _Seconds$[esp+20], bl
  0002c	75 06		 jne	 SHORT $L827

; 502  : 			Seconds = 0;

  0002e	32 db		 xor	 bl, bl
  00030	88 5c 24 08	 mov	 BYTE PTR _Seconds$[esp+20], bl
$L827:

; 503  : 		vid.WriteHexByte(Seconds);

  00034	8b 44 24 08	 mov	 eax, DWORD PTR _Seconds$[esp+20]
  00038	50		 push	 eax
  00039	8d 4c 24 10	 lea	 ecx, DWORD PTR _vid$[esp+24]
  0003d	e8 00 00 00 00	 call	 ?WriteHexByte@VideoDriver@@QAEXE@Z ; VideoDriver::WriteHexByte

; 504  : 
; 505  : 	}

  00042	eb ce		 jmp	 SHORT $L822
?Snake@@YAXXZ ENDP					; Snake
_TEXT	ENDS
PUBLIC	?pAll@@3VProcessQueue@@A			; pAll
PUBLIC	?pRdy@@3VProcessQueue@@A			; pRdy
_BSS	SEGMENT
?pAll@@3VProcessQueue@@A DQ 01H DUP (?)			; pAll
?pRdy@@3VProcessQueue@@A DQ 01H DUP (?)			; pRdy
_BSS	ENDS
END
